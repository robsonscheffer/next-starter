#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'â™¾ï¸ Running lint and building your project before committing'

yarn lint-staged || (
    echo 'ğŸ¤¡ ğŸ˜°  WOW, code smells detected.
    Please, check the error messages and FIX IT ğŸ˜¡

    "When in doubt, go to the library."
    â€“ Ron Weasley, Harry Potter and the Chamber of Secrets, Chapter 14
    '
)

echo 'ğŸ—ï¸  OK... Trying to build now.'

yarn build ||
(
    echo 'âŒ ğŸ‘º It`s better call help... your build has failed! 
        It`s probably was made by ğŸ‘½
        Check the error message.
    '
    false;
)

echo 'ğŸš€ YEAH! - you`re right

    "We are only as strong as we are united, as weak as we are divided."
    â€“ Albus Dumbledore, Harry Potter and the Goblet of Fire, Chapter 37
'